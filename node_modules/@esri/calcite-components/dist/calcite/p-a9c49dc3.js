/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v1.11.0
 */
import{q as n,c as t}from"./p-1ecee1c3.js";import{h as e}from"./p-daaff213.js";const o="hidden-form-input";function r(n){return"checked"in n}const s=new WeakMap,c=new WeakSet;function i(n){const{formEl:t}=n;return!!t&&(t.requestSubmit(),!0)}function u(n){n.formEl?.reset()}function f(n){const{el:e,value:o}=n,i=a(n);if(!i||function(n,e){if(t(e.parentElement,"[form]"))return!0;const o="calciteInternalFormComponentRegister";let r=!1;return n.addEventListener(o,(n=>{r=n.composedPath().some((n=>c.has(n))),n.stopPropagation()}),{once:!0}),e.dispatchEvent(new CustomEvent(o,{bubbles:!0,composed:!0})),r}(i,e))return;n.formEl=i,n.defaultValue=o,r(n)&&(n.defaultChecked=n.checked);const u=(n.onFormReset||l).bind(n);i.addEventListener("reset",u),s.set(n.el,u),c.add(e)}function a(e){const{el:o,form:r}=e;return r?n(o,{id:r}):t(o,"form")}function l(){r(this)?this.checked=this.defaultChecked:this.value=this.defaultValue}function m(n){const{el:t,formEl:e}=n;if(!e)return;const o=s.get(t);e.removeEventListener("reset",o),s.delete(t),n.formEl=null,c.delete(t)}function d(n,t){n.defaultValue=t}const p=n=>{n.target.dispatchEvent(new CustomEvent("calciteInternalHiddenInputChange",{bubbles:!0}))},h=n=>n.removeEventListener("change",p);function b(n,t,e){const{defaultValue:o,disabled:s,form:c,name:i,required:u}=n;t.defaultValue=o,t.disabled=s,t.name=i,t.required=u,t.tabIndex=-1,c?t.setAttribute("form",c):t.removeAttribute("form"),r(n)?(t.checked=n.checked,t.defaultChecked=n.defaultChecked,t.value=n.checked?e||"on":""):t.value=e||"",n.syncHiddenFormInput?.(t)}const w=({component:n})=>(function(n){const{el:t,formEl:e,name:r,value:s}=n,{ownerDocument:c}=t,i=t.querySelectorAll(`input[slot="${o}"]`);if(!e||!r)return void i.forEach((n=>{h(n),n.remove()}));const u=Array.isArray(s)?s:[s],f=[],a=new Set;let l;i.forEach((t=>{const e=u.find((n=>n==t.value));null!=e?(a.add(e),b(n,t,e)):f.push(t)})),u.forEach((t=>{if(a.has(t))return;let e=f.pop();e||(e=c.createElement("input"),e.slot=o),l||(l=c.createDocumentFragment()),l.append(e),e.addEventListener("change",p),b(n,e,t)})),l&&t.append(l),f.forEach((n=>{h(n),n.remove()}))}(n),e("slot",{name:o}));export{w as H,d as a,f as c,m as d,a as f,u as r,i as s}