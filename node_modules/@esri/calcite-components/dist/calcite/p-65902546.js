/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v1.11.0
 */
import{g as t}from"./p-1ecee1c3.js";import{d as n}from"./p-9e250dec.js";const e=["top","right","bottom","left"],o=["start","end"],r=e.reduce(((t,n)=>t.concat(n,n+"-"+o[0],n+"-"+o[1])),[]),i=Math.min,a=Math.max,l=Math.round,c=Math.floor,s=t=>({x:t,y:t}),f={left:"right",right:"left",bottom:"top",top:"bottom"},u={start:"end",end:"start"};function d(t,n,e){return a(t,i(n,e))}function m(t,n){return"function"==typeof t?t(n):t}function p(t){return t.split("-")[0]}function y(t){return t.split("-")[1]}function g(t){return"x"===t?"y":"x"}function h(t){return"y"===t?"height":"width"}function x(t){return["top","bottom"].includes(p(t))?"y":"x"}function w(t){return g(x(t))}function v(t,n,e){void 0===e&&(e=!1);const o=y(t),r=w(t),i=h(r);let a="x"===r?o===(e?"end":"start")?"right":"left":"start"===o?"bottom":"top";return n.reference[i]>n.floating[i]&&(a=A(a)),[a,A(a)]}function b(t){return t.replace(/start|end/g,(t=>u[t]))}function A(t){return t.replace(/left|right|bottom|top/g,(t=>f[t]))}function S(t){return"number"!=typeof t?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(t):{top:t,right:t,bottom:t,left:t}}function k(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function P(t,n,e){let{reference:o,floating:r}=t;const i=x(n),a=w(n),l=h(a),c=p(n),s="y"===i,f=o.x+o.width/2-r.width/2,u=o.y+o.height/2-r.height/2,d=o[l]/2-r[l]/2;let m;switch(c){case"top":m={x:f,y:o.y-r.height};break;case"bottom":m={x:f,y:o.y+o.height};break;case"right":m={x:o.x+o.width,y:u};break;case"left":m={x:o.x-r.width,y:u};break;default:m={x:o.x,y:o.y}}switch(y(n)){case"start":m[a]-=d*(e&&s?-1:1);break;case"end":m[a]+=d*(e&&s?-1:1)}return m}async function D(t,n){var e;void 0===n&&(n={});const{x:o,y:r,platform:i,rects:a,elements:l,strategy:c}=t,{boundary:s="clippingAncestors",rootBoundary:f="viewport",elementContext:u="floating",altBoundary:d=!1,padding:p=0}=m(n,t),y=S(p),g=l[d?"floating"===u?"reference":"floating":u],h=k(await i.getClippingRect({element:null==(e=await(null==i.isElement?void 0:i.isElement(g)))||e?g:g.contextElement||await(null==i.getDocumentElement?void 0:i.getDocumentElement(l.floating)),boundary:s,rootBoundary:f,strategy:c})),x="floating"===u?{...a.floating,x:o,y:r}:a.reference,w=await(null==i.getOffsetParent?void 0:i.getOffsetParent(l.floating)),v=await(null==i.isElement?void 0:i.isElement(w))&&await(null==i.getScale?void 0:i.getScale(w))||{x:1,y:1},b=k(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:x,offsetParent:w,strategy:c}):x);return{top:(h.top-b.top+y.top)/v.y,bottom:(b.bottom-h.bottom+y.bottom)/v.y,left:(h.left-b.left+y.left)/v.x,right:(b.right-h.right+y.right)/v.x}}const O=function(t){return void 0===t&&(t={}),{name:"flip",options:t,async fn(n){var e,o;const{placement:r,middlewareData:i,rects:a,initialPlacement:l,platform:c,elements:s}=n,{mainAxis:f=!0,crossAxis:u=!0,fallbackPlacements:d,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:x=!0,...w}=m(t,n);if(null!=(e=i.arrow)&&e.alignmentOffset)return{};const S=p(r),k=p(l)===l,P=await(null==c.isRTL?void 0:c.isRTL(s.floating)),O=d||(k||!x?[A(l)]:function(t){const n=A(t);return[b(t),n,b(n)]}(l));d||"none"===h||O.push(...function(t,n,e,o){const r=y(t);let i=function(t,n,e){const o=["left","right"],r=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return e?n?r:o:n?o:r;case"left":case"right":return n?i:a;default:return[]}}(p(t),"start"===e,o);return r&&(i=i.map((t=>t+"-"+r)),n&&(i=i.concat(i.map(b)))),i}(l,x,h,P));const R=[l,...O],E=await D(n,w),M=[];let F=(null==(o=i.flip)?void 0:o.overflows)||[];if(f&&M.push(E[S]),u){const t=v(r,a,P);M.push(E[t[0]],E[t[1]])}if(F=[...F,{placement:r,overflows:M}],!M.every((t=>t<=0))){var T,C;const t=((null==(T=i.flip)?void 0:T.index)||0)+1,n=R[t];if(n)return{data:{index:t,overflows:F},reset:{placement:n}};let e=null==(C=F.filter((t=>t.overflows[0]<=0)).sort(((t,n)=>t.overflows[1]-n.overflows[1]))[0])?void 0:C.placement;if(!e)switch(g){case"bestFit":{var $;const t=null==($=F.map((t=>[t.placement,t.overflows.filter((t=>t>0)).reduce(((t,n)=>t+n),0)])).sort(((t,n)=>t[1]-n[1]))[0])?void 0:$[0];t&&(e=t);break}case"initialPlacement":e=l}if(r!==e)return{reset:{placement:e}}}return{}}}};function R(t,n){return{top:t.top-n.height,right:t.right-n.width,bottom:t.bottom-n.height,left:t.left-n.width}}function E(t){return e.some((n=>t[n]>=0))}const M=function(t){return void 0===t&&(t={}),{name:"hide",options:t,async fn(n){const{rects:e}=n,{strategy:o="referenceHidden",...r}=m(t,n);switch(o){case"referenceHidden":{const t=R(await D(n,{...r,elementContext:"reference"}),e.reference);return{data:{referenceHiddenOffsets:t,referenceHidden:E(t)}}}case"escaped":{const t=R(await D(n,{...r,altBoundary:!0}),e.floating);return{data:{escapedOffsets:t,escaped:E(t)}}}default:return{}}}}},F=function(t){return void 0===t&&(t=0),{name:"offset",options:t,async fn(n){const{x:e,y:o}=n,r=await async function(t,n){const{placement:e,platform:o,elements:r}=t,i=await(null==o.isRTL?void 0:o.isRTL(r.floating)),a=p(e),l=y(e),c="y"===x(e),s=["left","top"].includes(a)?-1:1,f=i&&c?-1:1,u=m(n,t);let{mainAxis:d,crossAxis:g,alignmentAxis:h}="number"==typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...u};return l&&"number"==typeof h&&(g="end"===l?-1*h:h),c?{x:g*f,y:d*s}:{x:d*s,y:g*f}}(n,t);return{x:e+r.x,y:o+r.y,data:r}}}};function T(t){return z(t)?(t.nodeName||"").toLowerCase():"#document"}function C(t){var n;return(null==t||null==(n=t.ownerDocument)?void 0:n.defaultView)||window}function $(t){var n;return null==(n=(z(t)?t.ownerDocument:t.document)||window.document)?void 0:n.documentElement}function z(t){return t instanceof Node||t instanceof C(t).Node}function B(t){return t instanceof Element||t instanceof C(t).Element}function L(t){return t instanceof HTMLElement||t instanceof C(t).HTMLElement}function j(t){return"undefined"!=typeof ShadowRoot&&(t instanceof ShadowRoot||t instanceof C(t).ShadowRoot)}function H(t){const{overflow:n,overflowX:e,overflowY:o,display:r}=Y(t);return/auto|scroll|overlay|hidden|clip/.test(n+o+e)&&!["inline","contents"].includes(r)}function I(t){return["table","td","th"].includes(T(t))}function W(t){const n=N(),e=Y(t);return"none"!==e.transform||"none"!==e.perspective||!!e.containerType&&"normal"!==e.containerType||!n&&!!e.backdropFilter&&"none"!==e.backdropFilter||!n&&!!e.filter&&"none"!==e.filter||["transform","perspective","filter"].some((t=>(e.willChange||"").includes(t)))||["paint","layout","strict","content"].some((t=>(e.contain||"").includes(t)))}function N(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function q(t){return["html","body","#document"].includes(T(t))}function Y(t){return C(t).getComputedStyle(t)}function V(t){return B(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function X(t){if("html"===T(t))return t;const n=t.assignedSlot||t.parentNode||j(t)&&t.host||$(t);return j(n)?n.host:n}function _(t){const n=X(t);return q(n)?t.ownerDocument?t.ownerDocument.body:t.body:L(n)&&H(n)?n:_(n)}function G(t,n,e){var o;void 0===n&&(n=[]),void 0===e&&(e=!0);const r=_(t),i=r===(null==(o=t.ownerDocument)?void 0:o.body),a=C(r);return i?n.concat(a,a.visualViewport||[],H(r)?r:[],a.frameElement&&e?G(a.frameElement):[]):n.concat(r,G(r,[],e))}function J(t){const n=Y(t);let e=parseFloat(n.width)||0,o=parseFloat(n.height)||0;const r=L(t),i=r?t.offsetWidth:e,a=r?t.offsetHeight:o,c=l(e)!==i||l(o)!==a;return c&&(e=i,o=a),{width:e,height:o,$:c}}function K(t){return B(t)?t:t.contextElement}function Q(t){const n=K(t);if(!L(n))return s(1);const e=n.getBoundingClientRect(),{width:o,height:r,$:i}=J(n);let a=(i?l(e.width):e.width)/o,c=(i?l(e.height):e.height)/r;return a&&Number.isFinite(a)||(a=1),c&&Number.isFinite(c)||(c=1),{x:a,y:c}}const U=s(0);function Z(t){const n=C(t);return N()&&n.visualViewport?{x:n.visualViewport.offsetLeft,y:n.visualViewport.offsetTop}:U}function tt(t,n,e,o){void 0===n&&(n=!1),void 0===e&&(e=!1);const r=t.getBoundingClientRect(),i=K(t);let a=s(1);n&&(o?B(o)&&(a=Q(o)):a=Q(t));const l=function(t,n,e){return void 0===n&&(n=!1),!(!e||n&&e!==C(t))&&n}(i,e,o)?Z(i):s(0);let c=(r.left+l.x)/a.x,f=(r.top+l.y)/a.y,u=r.width/a.x,d=r.height/a.y;if(i){const t=C(i),n=o&&B(o)?C(o):o;let e=t.frameElement;for(;e&&o&&n!==t;){const t=Q(e),n=e.getBoundingClientRect(),o=Y(e),r=n.left+(e.clientLeft+parseFloat(o.paddingLeft))*t.x,i=n.top+(e.clientTop+parseFloat(o.paddingTop))*t.y;c*=t.x,f*=t.y,u*=t.x,d*=t.y,c+=r,f+=i,e=C(e).frameElement}}return k({width:u,height:d,x:c,y:f})}function nt(t){return tt($(t)).left+V(t).scrollLeft}function et(t,n,e){let o;if("viewport"===n)o=function(t,n){const e=C(t),o=$(t),r=e.visualViewport;let i=o.clientWidth,a=o.clientHeight,l=0,c=0;if(r){i=r.width,a=r.height;const t=N();(!t||t&&"fixed"===n)&&(l=r.offsetLeft,c=r.offsetTop)}return{width:i,height:a,x:l,y:c}}(t,e);else if("document"===n)o=function(t){const n=$(t),e=V(t),o=t.ownerDocument.body,r=a(n.scrollWidth,n.clientWidth,o.scrollWidth,o.clientWidth),i=a(n.scrollHeight,n.clientHeight,o.scrollHeight,o.clientHeight);let l=-e.scrollLeft+nt(t);const c=-e.scrollTop;return"rtl"===Y(o).direction&&(l+=a(n.clientWidth,o.clientWidth)-r),{width:r,height:i,x:l,y:c}}($(t));else if(B(n))o=function(t,n){const e=tt(t,!0,"fixed"===n),o=e.top+t.clientTop,r=e.left+t.clientLeft,i=L(t)?Q(t):s(1);return{width:t.clientWidth*i.x,height:t.clientHeight*i.y,x:r*i.x,y:o*i.y}}(n,e);else{const e=Z(t);o={...n,x:n.x-e.x,y:n.y-e.y}}return k(o)}function ot(t,n){const e=X(t);return!(e===n||!B(e)||q(e))&&("fixed"===Y(e).position||ot(e,n))}function rt(t,n,e){const o=L(n),r=$(n),i="fixed"===e,a=tt(t,!0,i,n);let l={scrollLeft:0,scrollTop:0};const c=s(0);if(o||!o&&!i)if(("body"!==T(n)||H(r))&&(l=V(n)),o){const t=tt(n,!0,i,n);c.x=t.x+n.clientLeft,c.y=t.y+n.clientTop}else r&&(c.x=nt(r));return{x:a.left+l.scrollLeft-c.x,y:a.top+l.scrollTop-c.y,width:a.width,height:a.height}}function it(t,n){return L(t)&&"fixed"!==Y(t).position?n?n(t):t.offsetParent:null}function at(t,n){const e=C(t);if(!L(t))return e;let o=it(t,n);for(;o&&I(o)&&"static"===Y(o).position;)o=it(o,n);return o&&("html"===T(o)||"body"===T(o)&&"static"===Y(o).position&&!W(o))?e:o||function(t){let n=X(t);for(;L(n)&&!q(n);){if(W(n))return n;n=X(n)}return null}(t)||e}const lt={convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{rect:n,offsetParent:e,strategy:o}=t;const r=L(e),i=$(e);if(e===i)return n;let a={scrollLeft:0,scrollTop:0},l=s(1);const c=s(0);if((r||!r&&"fixed"!==o)&&(("body"!==T(e)||H(i))&&(a=V(e)),L(e))){const t=tt(e);l=Q(e),c.x=t.x+e.clientLeft,c.y=t.y+e.clientTop}return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-a.scrollLeft*l.x+c.x,y:n.y*l.y-a.scrollTop*l.y+c.y}},getDocumentElement:$,getClippingRect:function(t){let{element:n,boundary:e,rootBoundary:o,strategy:r}=t;const l=[..."clippingAncestors"===e?function(t,n){const e=n.get(t);if(e)return e;let o=G(t,[],!1).filter((t=>B(t)&&"body"!==T(t))),r=null;const i="fixed"===Y(t).position;let a=i?X(t):t;for(;B(a)&&!q(a);){const n=Y(a),e=W(a);e||"fixed"!==n.position||(r=null),(i?!e&&!r:!e&&"static"===n.position&&r&&["absolute","fixed"].includes(r.position)||H(a)&&!e&&ot(t,a))?o=o.filter((t=>t!==a)):r=n,a=X(a)}return n.set(t,o),o}(n,this._c):[].concat(e),o],c=l.reduce(((t,e)=>{const o=et(n,e,r);return t.top=a(o.top,t.top),t.right=i(o.right,t.right),t.bottom=i(o.bottom,t.bottom),t.left=a(o.left,t.left),t}),et(n,l[0],r));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}},getOffsetParent:at,getElementRects:async function(t){let{reference:n,floating:e,strategy:o}=t;const r=this.getOffsetParent||at,i=this.getDimensions;return{reference:rt(n,await r(e),o),floating:{x:0,y:0,...await i(e)}}},getClientRects:function(t){return Array.from(t.getClientRects())},getDimensions:function(t){return J(t)},getScale:Q,isElement:B,isRTL:function(t){return"rtl"===Y(t).direction}};function ct(t){return function(t){for(let n=t;n;n=st(n))if(n instanceof Element&&"none"===getComputedStyle(n).display)return null;for(let n=st(t);n;n=st(n)){if(!(n instanceof Element))continue;const t=getComputedStyle(n);if("contents"!==t.display){if("static"!==t.position||"none"!==t.filter)return n;if("BODY"===n.tagName)return n}}return null}(t)}function st(t){return t.assignedSlot?t.assignedSlot:t.parentNode instanceof ShadowRoot?t.parentNode.host:t.parentNode}!function(){{const t=lt.getOffsetParent;lt.getOffsetParent=n=>t(n,ct)}}();const ft=async(t,{referenceEl:n,floatingEl:e,overlayPositioning:o="absolute",placement:r,flipDisabled:i,flipPlacements:a,offsetDistance:l,offsetSkidding:c,arrowEl:s,type:f})=>{if(!n||!e)return null;const{x:u,y:d,placement:m,strategy:p,middlewareData:y}=await((t,n,e)=>{const o=new Map,r={platform:lt,...e},i={...r.platform,_c:o};return(async(t,n,e)=>{const{placement:o="bottom",strategy:r="absolute",middleware:i=[],platform:a}=e,l=i.filter(Boolean),c=await(null==a.isRTL?void 0:a.isRTL(n));let s=await a.getElementRects({reference:t,floating:n,strategy:r}),{x:f,y:u}=P(s,o,c),d=o,m={},p=0;for(let e=0;e<l.length;e++){const{name:i,fn:y}=l[e],{x:g,y:h,data:x,reset:w}=await y({x:f,y:u,initialPlacement:o,placement:d,strategy:r,middlewareData:m,rects:s,platform:a,elements:{reference:t,floating:n}});f=null!=g?g:f,u=null!=h?h:u,m={...m,[i]:{...m[i],...x}},w&&p<=50&&(p++,"object"==typeof w&&(w.placement&&(d=w.placement),w.rects&&(s=!0===w.rects?await a.getElementRects({reference:t,floating:n,strategy:r}):w.rects),({x:f,y:u}=P(s,d,c))),e=-1)}return{x:f,y:u,placement:d,strategy:r,middlewareData:m}})(t,n,{...r,platform:i})})(n,e,{strategy:o,placement:"auto"===r||"auto-start"===r||"auto-end"===r?void 0:ht(e,r),middleware:yt({placement:r,flipDisabled:i,flipPlacements:a,offsetDistance:l,offsetSkidding:c,arrowEl:s,type:f})});if(s&&y.arrow){const{x:n,y:e}=y.arrow,o=m.split("-")[0],r=null!=n?"left":"top",i=wt[o],a={left:"",top:"",bottom:"",right:""};"floatingLayout"in t&&(t.floatingLayout="left"===o||"right"===o?"horizontal":"vertical"),Object.assign(s.style,{...a,[r]:`${"left"==r?n:e}px`,[o]:"100%",transform:i})}const g=y.hide?.referenceHidden,h=g?"hidden":null,x=h?"none":null;e.setAttribute(ut,m);const w=`translate(${Math.round(u)}px,${Math.round(d)}px)`;Object.assign(e.style,{visibility:h,pointerEvents:x,position:p,top:"0",left:"0",transform:w})},ut="data-placement",dt=["top","bottom","right","left","top-start","top-end","bottom-start","bottom-end","right-start","right-end","left-start","left-end"],mt="bottom-start",pt={animation:"calcite-floating-ui-anim",animationActive:"calcite-floating-ui-anim--active"};function yt({placement:t,flipDisabled:n,flipPlacements:e,offsetDistance:o,offsetSkidding:a,arrowEl:l,type:c}){const s=[(void 0===f&&(f={}),{name:"shift",options:f,async fn(t){const{x:n,y:e,placement:o}=t,{mainAxis:r=!0,crossAxis:i=!1,limiter:a={fn:t=>{let{x:n,y:e}=t;return{x:n,y:e}}},...l}=m(f,t),c={x:n,y:e},s=await D(t,l),u=x(p(o)),y=g(u);let h=c[y],w=c[u];r&&(h=d(h+s["y"===y?"top":"left"],h,h-s["y"===y?"bottom":"right"])),i&&(w=d(w+s["y"===u?"top":"left"],w,w-s["y"===u?"bottom":"right"]));const v=a.fn({...t,[y]:h,[u]:w});return{...v,data:{x:v.x-n,y:v.y-e}}}}),M()];var f;if("menu"===c)return[...s,O({fallbackPlacements:e||["top-start","top","top-end","bottom-start","bottom","bottom-end"]})];if("popover"===c||"tooltip"===c){const c=[...s,F({mainAxis:"number"==typeof o?o:0,crossAxis:"number"==typeof a?a:0})];return"auto"===t||"auto-start"===t||"auto-end"===t?c.push(function(t){return void 0===t&&(t={}),{name:"autoPlacement",options:t,async fn(n){var e,o,i;const{rects:a,middlewareData:l,placement:c,platform:s,elements:f}=n,{crossAxis:u=!1,alignment:d,allowedPlacements:g=r,autoAlignment:h=!0,...x}=m(t,n),w=void 0!==d||g===r?function(t,n,e){return(t?[...e.filter((n=>y(n)===t)),...e.filter((n=>y(n)!==t))]:e.filter((t=>p(t)===t))).filter((e=>!t||y(e)===t||!!n&&b(e)!==e))}(d||null,h,g):g,A=await D(n,x),S=(null==(e=l.autoPlacement)?void 0:e.index)||0,k=w[S];if(null==k)return{};const P=v(k,a,await(null==s.isRTL?void 0:s.isRTL(f.floating)));if(c!==k)return{reset:{placement:w[0]}};const O=[A[p(k)],A[P[0]],A[P[1]]],R=[...(null==(o=l.autoPlacement)?void 0:o.overflows)||[],{placement:k,overflows:O}],E=w[S+1];if(E)return{data:{index:S+1,overflows:R},reset:{placement:E}};const M=R.map((t=>{const n=y(t.placement);return[t.placement,n&&u?t.overflows.slice(0,2).reduce(((t,n)=>t+n),0):t.overflows[0],t.overflows]})).sort(((t,n)=>t[1]-n[1])),F=(null==(i=M.filter((t=>t[2].slice(0,y(t[0])?2:3).every((t=>t<=0))))[0])?void 0:i[0])||M[0][0];return F!==c?{data:{index:S+1,overflows:R},reset:{placement:F}}:{}}}}({alignment:"auto-start"===t?"start":"auto-end"===t?"end":null})):n||c.push(O(e?{fallbackPlacements:e}:{})),l&&c.push((t=>({name:"arrow",options:t,async fn(n){const{x:e,y:o,placement:r,rects:a,platform:l,elements:c,middlewareData:s}=n,{element:f,padding:u=0}=m(t,n)||{};if(null==f)return{};const p=S(u),g={x:e,y:o},x=w(r),v=h(x),b=await l.getDimensions(f),A="y"===x,k=A?"top":"left",P=A?"bottom":"right",D=A?"clientHeight":"clientWidth",O=a.reference[v]+a.reference[x]-g[x]-a.floating[v],R=g[x]-a.reference[x],E=await(null==l.getOffsetParent?void 0:l.getOffsetParent(f));let M=E?E[D]:0;M&&await(null==l.isElement?void 0:l.isElement(E))||(M=c.floating[D]||a.floating[v]);const F=O/2-R/2,T=M/2-b[v]/2-1,C=i(p[k],T),$=i(p[P],T),z=C,B=M-b[v]-$,L=M/2-b[v]/2+F,j=d(z,L,B),H=!s.arrow&&null!=y(r)&&L!=j&&a.reference[v]/2-(L<z?C:$)-b[v]/2<0,I=H?L<z?L-z:L-B:0;return{[x]:g[x]+I,data:{[x]:j,centerOffset:L-j-I,...H&&{alignmentOffset:I}},reset:H}}}))({element:l})),c}return[]}function gt(t,n){const e=t.filter((t=>dt.includes(t)));return e.length!==t.length&&console.warn(`${n.tagName}: Invalid value found in: flipPlacements. Try any of these: ${dt.map((t=>`"${t}"`)).join(", ").trim()}`,{el:n}),e}function ht(n,e){const o=["left","right"];return"rtl"===t(n)&&o.reverse(),e.replace(/leading/gi,o[0]).replace(/trailing/gi,o[1])}async function xt(t,e,o=!1){const r=o?function(t){let e=bt.get(t);return e||(e=n(ft,100,{leading:!0,maxWait:100}),bt.set(t,e),e)}(t):ft;return r(t,e)}const wt={top:"",left:"rotate(-90deg)",bottom:"rotate(180deg)",right:"rotate(90deg)"},vt=new WeakMap,bt=new WeakMap;function At(t,n,e){e&&n&&(St(t,n,e),Object.assign(e.style,{visibility:"hidden",pointerEvents:"none",position:t.overlayPositioning,top:"0",left:"0"}),vt.set(t,function(t,n,e,o){void 0===o&&(o={});const{ancestorScroll:r=!0,ancestorResize:l=!0,elementResize:s="function"==typeof ResizeObserver,layoutShift:f="function"==typeof IntersectionObserver,animationFrame:u=!1}=o,d=K(t),m=r||l?[...d?G(d):[],...G(n)]:[];m.forEach((t=>{r&&t.addEventListener("scroll",e,{passive:!0}),l&&t.addEventListener("resize",e)}));const p=d&&f?function(t,n){let e,o=null;const r=$(t);function l(){clearTimeout(e),o&&o.disconnect(),o=null}return function s(f,u){void 0===f&&(f=!1),void 0===u&&(u=1),l();const{left:d,top:m,width:p,height:y}=t.getBoundingClientRect();if(f||n(),!p||!y)return;const g={rootMargin:-c(m)+"px "+-c(r.clientWidth-(d+p))+"px "+-c(r.clientHeight-(m+y))+"px "+-c(d)+"px",threshold:a(0,i(1,u))||1};let h=!0;function x(t){const n=t[0].intersectionRatio;if(n!==u){if(!h)return s();n?s(!1,n):e=setTimeout((()=>{s(!1,1e-7)}),100)}h=!1}try{o=new IntersectionObserver(x,{...g,root:r.ownerDocument})}catch(t){o=new IntersectionObserver(x,g)}o.observe(t)}(!0),l}(d,e):null;let y,g=-1,h=null;s&&(h=new ResizeObserver((t=>{let[o]=t;o&&o.target===d&&h&&(h.unobserve(n),cancelAnimationFrame(g),g=requestAnimationFrame((()=>{h&&h.observe(n)}))),e()})),d&&!u&&h.observe(d),h.observe(n));let x=u?tt(t):null;return u&&function n(){const o=tt(t);!x||o.x===x.x&&o.y===x.y&&o.width===x.width&&o.height===x.height||e(),x=o,y=requestAnimationFrame(n)}(),e(),()=>{m.forEach((t=>{r&&t.removeEventListener("scroll",e),l&&t.removeEventListener("resize",e)})),p&&p(),h&&h.disconnect(),h=null,u&&cancelAnimationFrame(y)}}(n,e,(()=>t.reposition()))))}function St(t,n,e){e&&n&&(vt.get(t)?.(),vt.delete(t),bt.get(t)?.cancel(),bt.delete(t))}const kt=Math.ceil(Math.hypot(4,4));export{pt as F,St as a,kt as b,At as c,mt as d,gt as f,xt as r}