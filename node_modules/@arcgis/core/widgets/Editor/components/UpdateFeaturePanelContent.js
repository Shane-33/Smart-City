/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
import{substitute as e}from"../../../intl/substitute.js";import{loadFooterActionsComponents as t,FooterActions as o}from"./FooterActions.js";import{loadNoticesComponents as n,Notices as a}from"./Notices.js";import{loadPanelContentComponents as r,PanelContentMessage as s,PanelContentSectionGroup as i,PanelContentSection as l,PanelContent as u}from"./PanelContent.js";import{Heading as c,incrementHeadingLevel as m}from"../../support/Heading.js";import"../../support/widgetUtils.js";import{tsx as d,tsxFragment as p}from"../../support/jsxFactory.js";const f=()=>Promise.all([t(),n(),r()]);function h({editorViewModel:t,headingLevel:n,messages:r,messagesCommon:f,onDelete:h,onSave:g,renderAttachments:v,renderFeatureForm:w}){const{activeWorkflow:k,syncing:F}=t;if(!k)return null;const y=k.type,b="activeWorkflow"in k?k.activeWorkflow:void 0,j=b?.type,P=t.featureFormViewModel,S=b&&!b.hasPendingEdits||"update"===y&&!k.hasPendingEdits||F||P.updating,C="update"===y&&"create-features"!==j?f.update:f.create,A="create-features"===y&&"create-new"===k.createFeatureState,M="create-features"===y?k.numPendingFeatures:0,T=M>1?e(r.createFeaturesTemplate,{numFeatures:M}):C,V=k.shouldShowAttachments&&!t.featureFormViewModel.activeRelationshipInput,W=P.inputs.every((e=>!e.visible))&&!V?d(s,{key:"panel-content-message"},e(r.clickToFinishTemplate,{button:C})):d(l,{key:"panel-content-section"},d(a,{messages:r,workflow:k}),d(i,null,w(),V?d("div",{key:"attachments"},d(c,{level:m(n)},r.attachments),v()):null));return d(p,null,d(u,{key:"attribute-panel-content",showScrimOverlay:A},W),d(o,{buttons:[{onClick:g,disabled:S,label:T},t.shouldShowDeleteButton?{appearance:"outline",onClick:h,disabled:F,kind:"danger",label:f.delete}:void 0]}))}export{h as UpdateFeaturePanelContent,f as loadUpdateFeaturePanelContentComponents};
