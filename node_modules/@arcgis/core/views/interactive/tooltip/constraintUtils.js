/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
import{valueInUnit as t}from"../../../core/quantityUtils.js";import{lengthUnitFromSpatialReference as r,verticalLengthUnitFromSpatialReference as o}from"../../../core/unitUtils.js";import{q as e,o as n}from"../../../chunks/vec3.js";import{c as s}from"../../../chunks/vec3f64.js";import{projectVectorToVector as i}from"../../../geometry/projection/projectVectorToVector.js";import{Axis as c}from"../../../geometry/support/Axis.js";import{createGlobal as m,axisAt as f}from"../../../geometry/support/coordinateSystem.js";import{SphereConstraint as u,VerticalHalfPlaneConstraint as p,HorizontalPlaneConstraint as a}from"../sketch/constraints.js";import{fromPoint as j}from"../sketch/normalizedPoint.js";import{pointFromDistanceAlongAzimuth as l}from"../../support/angularMeasurementUtils.js";import{computeEuclideanMeasurementSR as y}from"../../support/measurementUtils.js";function d(o,s,p,a){if(!s)return;const{spatialReference:l}=o;if(!r(l))return;const d=y(l),g=r(d);if(!g)return;const h=j(o,p,a),k=v;if(!i(h,l,k,d))return;const U=t(s,g);if("3d"===p?.type&&"local"===p.viewingMode)k[0]+=U;else{const t=m(d),r=f(t,k,c.X,w);e(k,k,r,U)}if(!i(k,d,k,l))return;const q=n(h,k);return new u(h,q)}function g(t,r,o,e){if(!r)return;const n=j(t,o,e),s=l(t,1,r);if(!s)return;const i=j(s,o,e);return new p(n,i)}function h(r,e,n,s){if(null==r)return;const i=y(e),c=o(i);return c?new a(t(r,c)):void 0}function k(t){let r;for(const o of t)o&&(r=r?.intersect(o)??o);return r}const v=s(),w=s();export{d as getDistanceConstraint,h as getElevationConstraint,g as getOrientationConstraint,k as intersectAll};
