/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
import{createAngle as e,convertRotationType as r}from"../../core/quantityUtils.js";import{convertUnit as o}from"../../core/unitUtils.js";import{x as t}from"../../chunks/vec2.js";import{e as s}from"../../chunks/vec2f64.js";import{s as i,h as n,f as c,n as a}from"../../chunks/vec3.js";import{c as m}from"../../chunks/vec3f64.js";import p from"../../geometry/Point.js";import f from"../../geometry/SpatialReference.js";import{projectVectorToPoint as u}from"../../geometry/projection/projectVectorToPoint.js";import{projectVectorToVector as g}from"../../geometry/projection/projectVectorToVector.js";import{projectVectorToWGS84ComparableLonLat as j}from"../../geometry/projection/projectVectorToWGS84ComparableLonLat.js";import{inverseGeodeticSolver as l,directGeodeticSolver as h,InverseGeodeticSolverResult as y}from"../../geometry/support/geodesicUtils.js";const d=(()=>{const r=m(),o=m(),p=m();return(m,f)=>{if(i(o,m.x,m.y,m.z??0),i(p,f.x,f.y,f.z??0),n(o,p))return null;if(!j(o,m.spatialReference,o)||!j(p,f.spatialReference,p)){c(r,p,o),r[2]=0,a(r,r);let i=t(s,r);return r[0]<0&&(i=2*Math.PI-i),e(i,"radians","geographic")}const{azimuth:u}=l(x,o,p);return null!=u?e(u,"degrees","geographic"):void 0}})(),v=(()=>{const e=m(),t=m();return({x:s,y:n,z:c,spatialReference:a},m,j)=>{const l=c??0;i(e,s,n,l);const y=r(o(j.value,j.unit,"degrees"),j.rotationType,"geographic");if(!g(e,a,e,f.WGS84)){const e=r(y,"geographic","arithmetic"),t=o(e,"degrees","radians");return new p({x:s+m*Math.cos(t),y:n+m*Math.sin(t),z:l,spatialReference:a})}return h(t,e,y,m),t[2]=l,u(t,f.WGS84,a)}})(),x=new y;export{d as orientationBetweenPoints,v as pointFromDistanceAlongAzimuth};
