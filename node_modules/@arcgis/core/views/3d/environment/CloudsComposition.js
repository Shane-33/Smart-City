/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
import{_ as e}from"../../../chunks/tslib.es6.js";import o from"../../../core/Accessor.js";import{releaseMaybe as r,disposeMaybe as t}from"../../../core/maybe.js";import{property as s}from"../../../core/accessorSupport/decorators/property.js";import"../../../core/accessorSupport/ensureType.js";import"../../../core/arrayUtils.js";import"../../../core/has.js";import{subclass as i}from"../../../core/accessorSupport/decorators/subclass.js";import{CloudsCompositionTechnique as c}from"./CloudsCompositionTechnique.js";import{NoParameters as n}from"../webgl-engine/core/shaderModules/interfaces.js";import{createQuadVAO as p}from"../webgl-engine/lib/glUtil3D.js";import{PrimitiveType as a}from"../../webgl/enums.js";let u=class extends o{constructor(e){super(e),this._technique=new c(e),this._vao=p(e.rctx)}destroy(){this._technique=r(this._technique),this._vao=t(this._vao)}render(e){if(!this._technique.compiled)return void this.requestRender();const o=e.bindParameters.cloudsFade;if(null==this._vao||null==o.data)return;const r=e.rctx.bindTechnique(this._technique,m,e.bindParameters);e.rctx.bindVAO(this._vao),r.assertCompatibleVertexAttributeLocations(this._vao),e.rctx.drawArrays(a.TRIANGLE_STRIP,0,4)}};e([s({constructOnly:!0})],u.prototype,"rctx",void 0),e([s({constructOnly:!0})],u.prototype,"viewingMode",void 0),e([s({constructOnly:!0})],u.prototype,"planetRadius",void 0),e([s({constructOnly:!0})],u.prototype,"requestRender",void 0),u=e([i("esri.views.3d.environment.CloudsComposition")],u);const m=new n;export{u as CloudsComposition};
