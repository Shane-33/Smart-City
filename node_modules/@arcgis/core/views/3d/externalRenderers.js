/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
import{deprecatedFunction as e}from"../../core/deprecate.js";import r from"../../core/Logger.js";import{a as n}from"../../chunks/mat4f64.js";import{computeTranslationToOriginAndRotation as t}from"../../geometry/projection/computeTranslationToOriginAndRotation.js";import{projectBuffer as o}from"../../geometry/projection/projectBuffer.js";import{ExternalRendererStore as s}from"./externalRenderers/ExternalRendererStore.js";const i=new s;function a(e,r){i.add(e,r)}function d(e,r){i.remove(e,r)}function c(e){e._stage.renderView.requestRender()}function f(e,r,n,t,s,i,a){return t=t||e.spatialReference,o(r,t,n,s,e.renderCoordsHelper.spatialReference,i,a)?s:null}function m(e,r,n,t,s,i,a){return i=i||e.spatialReference,o(r,e.renderCoordsHelper.spatialReference,n,t,i,s,a)?t:null}function p(e,r,o,s){return s||(s=n()),o=o||e.spatialReference,t(o,r,s,e.renderCoordsHelper.spatialReference)?s:null}function u(e){return e.state.camera.clone()}function l(e){return{add:a.bind(this,e),remove:d.bind(this,e),requestRender:c.bind(this,e),toRenderCoordinates:f.bind(this,e),fromRenderCoordinates:m.bind(this,e),renderCoordinateTransformAt:p.bind(this,e)}}function R(n){const t=r.getLogger("esri/views/3d/externalRenderers");e(t,"forceWebGLContext",{moduleName:"esri/views/3d/externalRenderers",version:"4.27",see:"https://developers.arcgis.com/javascript/latest/system-requirements/"}),2!==n&&t.warn(`Requested context version '${n}' is not supported! Using a WebGL2 context.`)}export{a as add,l as bind,R as forceWebGLContext,m as fromRenderCoordinates,u as getRenderCamera,d as remove,p as renderCoordinateTransformAt,c as requestRender,f as toRenderCoordinates};
