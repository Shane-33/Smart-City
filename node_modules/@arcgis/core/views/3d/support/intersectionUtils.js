/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
import{a as r}from"../../../chunks/vec2f64.js";import{j as n,f as t,g as i,i as c,o as e,c as o,n as u}from"../../../chunks/vec3.js";import{c as f}from"../../../chunks/vec3f64.js";import{signedDistance as s,normal as l}from"../../../geometry/support/plane.js";function p(r,n,t){return r[0]*n[0]+r[1]*n[1]+r[2]*n[2]+r[3]<t}function a(r,n,t){const i=n[0],c=n[1],e=n[2];return!(r[0][0]*i+r[0][1]*c+r[0][2]*e+r[0][3]>t)&&(!(r[1][0]*i+r[1][1]*c+r[1][2]*e+r[1][3]>t)&&(!(r[2][0]*i+r[2][1]*c+r[2][2]*e+r[2][3]>t)&&(!(r[3][0]*i+r[3][1]*c+r[3][2]*e+r[3][3]>t)&&(!(r[4][0]*i+r[4][1]*c+r[4][2]*e+r[4][3]>t)&&!(r[5][0]*i+r[5][1]*c+r[5][2]*e+r[5][3]>t)))))}function m(r,n,t,i){return A(r,n,null,k(i,n,t,!1))}function d(r,n){for(let t=0;t<6;t++){if(s(r[t],n)>0)return!1}return!0}function j(r,n,t,i){return A(r,n,t,k(i,n,t,!0))}function h(r,e,o,u){const f=n(o,t(r,u,e));return i(r,e,c(r,o,f))}const g={dir:f(),len:0,clip:r()};function k(r,n,i,f){const s=g;return r?(i&&f&&(s.len=e(n,i)),o(s.dir,r)):f?(s.len=e(n,i),t(s.dir,i,n),c(s.dir,s.dir,1/s.len)):(t(s.dir,i,n),u(s.dir,s.dir)),s}function v(r,t,i){const c=n(l(r),i.dir),e=-s(r,t);if(e<0&&c>=0)return!1;if(c>-1e-6&&c<1e-6)return e>0;if((e<0||c<0)&&!(e<0&&c<0))return!0;const o=e/c;return c>0?o<i.clip[1]&&(i.clip[1]=o):o>i.clip[0]&&(i.clip[0]=o),i.clip[0]<=i.clip[1]}function A(r,n,t,i){i.clip[0]=0,i.clip[1]=t?i.len:Number.MAX_VALUE;for(let c=0;c<r.length;c++)if(!v(r[c],n,i))return!1;return!0}export{h as closestPointOnRay,j as frustumLineSegment,d as frustumPoint,m as frustumRay,a as frustumSphere,p as planeSphere};
