/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
import{rad2deg as t,acosClamped as s}from"../../../core/mathUtils.js";import{n,j as a,c as o,i as c,f as i,l as r,b as e}from"../../../chunks/vec3.js";import{c as f}from"../../../chunks/vec3f64.js";const l=f(),u=f();function h(){return{direction:f(),up:f()}}function m(f,h,m,p,j){let b=n(l,f),d=a(b,p);const g=d>0;d=Math.abs(d),d>.99&&(d=Math.abs(a(h,p)),d<.99?(o(b,h),g&&c(b,b,-1)):b=null);let k=0;if(b){c(u,p,a(p,b)),i(b,b,u);const n=a(b,j)/(r(b)*r(j));e(u,b,j);k=(a(u,p)>0?1:-1)*t(s(n))}const v=t(s(-a(p,f)/r(f)));return m?(m.heading=k,m.tilt=v,m):{heading:k,tilt:v}}export{h as createDirectionUp,m as directionToHeadingTilt};
