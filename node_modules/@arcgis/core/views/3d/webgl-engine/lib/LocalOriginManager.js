/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
import{h as i}from"../../../../chunks/mat4.js";import{a as t}from"../../../../chunks/mat4f64.js";import{applyToViewMatrix as r}from"./localOriginHelper.js";class a{constructor(i){this._factory=i,this._originData=new Map}acquire(i){return this.register(this._factory.getOrigin(i))}register(i){const t=this._originData.get(i.id)||new e(i);return t.refCount++,this._originData.has(t.origin.id)||this._originData.set(t.origin.id,t),t}release(i){i.refCount--,0===i.refCount&&this._originData.delete(i.origin.id)}updateViewMatrices(t){this._originData.forEach((a=>{i(a.viewMatrix,t),r(a.origin.vec3,a.viewMatrix)}))}}class e{constructor(i){this.origin=i,this.refCount=0,this.viewMatrix=t()}}export{a as LocalOriginManager,e as OriginData};
