/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
import{estimateSize as t}from"../../../../core/typedArrayUtil.js";import{f as e,d as s}from"../../../../chunks/vec2f64.js";import{pathNumCircleProfileSubdivisions as n}from"../../layers/graphics/Graphics3DPathSymbolLayerConstants.js";class r{constructor(){this.vertices=new Array,this.normals=new Array,this.indices=new Array,this.poles=new Array,this.poleIndices=new Array}addVertex(t,e){return this.vertices.push(s(t)),this.normals.push(s(e)),this.vertices.length-1}addPole(t,e=null){return this.poles.push({position:s(t),normal:e?s(e):null}),this.poles.length-1}addSegment(t,e=null){this.indices.push(t.v0),this.indices.push(t.v1),e&&(this.poleIndices.push(e.v0),this.poleIndices.push(e.v1))}get numSegments(){return this.indices.length/2}translate(t,e){for(const s of this.vertices)s[0]+=t,s[1]+=e;for(const s of this.poles)s.position[0]+=t,s.position[1]+=e}get usedMemory(){return this.vertices.length*t(this.vertices[0])*2+t(this.indices)}}const o={top:[0,-.5],bottom:[0,.5]};function d(t){const s=.5,d=n,i=new r,a={v0:0,v1:0};i.addPole(e(0,0));for(let n=0;n<d;++n){const t=2*n*Math.PI/d,r=Math.cos(t),o=Math.sin(t),a=e(r*s,o*s),c=e(r,o);i.addVertex(a,c)}for(let e=0;e<d-1;++e){const t={v0:e,v1:e+1};i.addSegment(t,a)}const c={v0:d-1,v1:0};if(i.addSegment(c,a),"center"!==t){const e=o[t];i.translate(e[0],e[1])}return i}const i={center:d("center"),top:d("top"),bottom:d("bottom")},a={center:c("center"),top:c("top"),bottom:c("bottom")};function c(t){const s=1,n=1,d=new r,i=e(.5*-s,.5*-n),a=e(.5*s,.5*-n),c=e(.5*s,.5*n),h=e(.5*-s,.5*n),l=e(0,-1),v=e(1,0),p=e(0,1),m=e(-1,0);if(d.addPole(e(0,.5*n),p),d.addPole(e(0,.5*n)),d.addPole(e(0,.5*-n)),d.addPole(e(0,.5*-n),l),d.addVertex(i,l),d.addVertex(a,l),d.addSegment({v0:0,v1:1},{v0:3,v1:3}),d.addVertex(a,v),d.addVertex(c,v),d.addSegment({v0:2,v1:3},{v0:2,v1:1}),d.addVertex(c,p),d.addVertex(h,p),d.addSegment({v0:4,v1:5},{v0:0,v1:0}),d.addVertex(h,m),d.addVertex(i,m),d.addSegment({v0:6,v1:7},{v0:1,v1:2}),"center"!==t){const e=o[t];d.translate(e[0],e[1])}return d}export{r as PathProfile,i as circleProfiles,a as quadProfiles};
