/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
import{createRenderScreenPointArray3 as e}from"../../../../../core/screenUtils.js";import{f as r}from"../../../../../chunks/mat4f64.js";import{b as o,C as n,m as t,f as s}from"../../../../../chunks/vec3.js";import{c}from"../../../../../chunks/vec3f64.js";import{normal as i,fromPositionAndNormal as u,create as d}from"../../../../../geometry/support/plane.js";import{makeDehydratedPoint as l}from"../../../../../layers/graphics/dehydratedPoint.js";import{PlaneType as f,OffsetEdgeVertex as p}from"../../../../interactive/editGeometry/operations/OffsetEdgeVertex.js";function m(e,r,o){const n="on-the-ground"===o.mode?f.XY:f.XYZ;return new p(e,n,r,0)}function a(e,r,n){const t=c();if(!e.renderCoordsHelper.toRenderCoords(r,t))return null;const s=j(e,r,i(n.plane)),l=j(e,r,n.edgeDirection);if(null==s||null==l)return null;const f=o(c(),s,l);return u(t,f,d())}function j(e,r,o){const t=l(r.x+o[0],r.y+o[1],r.z+o[2],r.spatialReference),s=c(),i=c();return e.renderCoordsHelper.toRenderCoords(r,s)&&e.renderCoordsHelper.toRenderCoords(t,i)?n(i,s,i):null}function C(e,t,s){const u=i(e),d=n(c(),t,s),l=o(c(),d,u),f=o(c(),d,l);return r(d[0],d[1],d[2],0,l[0],l[1],l[2],0,f[0],f[1],f[2],0,0,0,0,1)}function h(r,o,n){const c=n.projectToRenderScreen(r,e()),i=n.projectToRenderScreen(o,e());return null!=c&&null!=i?t(s(c,c,i)):0}export{a as createEdgeOffsetIntersectionPlane,m as createEdgeOffsetOperation,C as edgeOffsetRotationMatrix,h as screenEdgeLengthSquared};
