/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
import{setMultipleImageTextures as t,setCoordsAndTransforms as n}from"./utils.js";import{ContextType as a}from"../../../../webgl/contextUtils.js";const e={vsPath:"raster/rfx/vs",fsPath:"raster/rfx/local",attributes:new Map([["a_position",0],["a_texcoord",1]])},o=new Set(["sinh","cosh","tanh","asinh","acosh","atanh"]);function s(t){const{painter:n,rasterFunction:s}=t,{imageCount:r,operationName:i,rasters:u,isOutputRounded:c}=s.parameters;let m=i.toLowerCase();t.context.type===a.WEBGL1&&o.has(m)&&(m=`polyfill${m}`);const p=[m];2===r&&p.push("twoImages");const h=u.filter((t=>"Constant"===t.name));return h.length&&(p.push("oneConstant"),2===h.length&&p.push("twoConstant")),c&&p.push("roundOutput"),n.materialManager.getProgram(e,p)}function r(a,e,o){t(a,e,o),n(e);const{domainRange:s}=a.rasterFunction.parameters;e.setUniform2fv("u_domainRange",s)}const i={createProgram:s,bindTextureAndUniforms:r};export{i as default};
