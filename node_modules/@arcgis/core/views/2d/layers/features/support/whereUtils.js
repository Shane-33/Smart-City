/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
import e from"../../../../../core/Error.js";import r from"../../../../../core/Logger.js";import{parseWhereClause as t}from"../../../../../core/sql.js";const a=r.getLogger("esri.views.2d.layers.features.support.whereUtils"),o={getAttribute:(e,r)=>e.readAttribute(r)};async function s(r,s){try{const n=await t(r,s);if(!n.isStandardized){const r=new e("mapview - bad input","Unable to apply filter's definition expression, as expression is not standardized.",n);a.error(r)}return e=>{const r=e.readArcadeFeature();return n.testFeature(r,o)}}catch(n){return a.warn("mapview-bad-where-clause","Encountered an error when evaluating where clause",r),e=>!0}}export{s as createWhereClause};
