/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
import{isHostedAgolService as e}from"../../../../../layers/support/arcgisLayerUrl.js";import{DrillDownFeatureSource as r}from"./DrillDownFeatureSource.js";import{PagedFeatureSource as t}from"./PagedFeatureSource.js";import{SnapshotFeatureSource as a}from"./SnapshotFeatureSource.js";import{StreamSource as o}from"./StreamSource.js";function s(e,s,c,u,i,p,m){const f=n(e,s,c,u,i,p,m);switch(f.type){case"feature":switch(f.origin){case"hosted":case"local":return new t(f);case"snapshot":return new a(f);default:return new r(f)}case"stream":return new o(f)}}function n(r,t,a,o,s,n,c){switch(r.type){case"snapshot":return{type:"feature",origin:"snapshot",featureCount:r.featureCount??0,serviceInfo:r,onMessage:s,outSR:a,tileInfoView:o,canAcceptRequest:n,store:c,arcadeLayerSchema:t};case"stream":return{type:"stream",serviceInfo:r,onMessage:s,outSR:a,canAcceptRequest:n,arcadeLayerSchema:t};case"memory":case"on-demand":return{type:"feature",serviceInfo:r,onMessage:s,outSR:a,origin:u(r.source),tileInfoView:o,canAcceptRequest:n,arcadeLayerSchema:t}}function u(r){return Array.isArray(r)?"local":"path"in r&&e(r.path)?"hosted":"unknown"}}export{s as createSource};
