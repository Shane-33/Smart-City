/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
import e from"./DebugOverlay.js";function t(t,r){t.container.addChild(new e({getMesh:e=>s(t,e,r),getColors:n,getOpacities:o}))}const s=(t,s,n)=>{const{pixelRatio:o}=s.state;let r=0;const a=[],c=[];for(const i of t._vectorTileContainer.children)if(i.symbols)for(const[t,s]of i.symbols)for(const i of s)for(const t of i.colliders){const s=(t.xScreen+t.dxScreen)*o,p=(t.yScreen+t.dyScreen)*o,h=t.width*o,u=t.height*o,l=i.unique.parts[t.partIndex].targetOpacity>.5;if(!l&&"all"!==n)continue;const f=3,d=1,g=3,y=0,x=l?2:0,m=l?3:0,w=e.makeFlags(x,m);a.push(s,p,w,s+h,p,w,s,p+u,w,s+h,p+u,w),c.push(r,r+1,r+2,r+1,r+3,r+2),r+=4;const S=l?f:d,b=l?g:y,v=e.makeFlags(S,b);a.push(s,p,v,s+h,p,v,s,p+1,v,s+h,p+1,v),c.push(r,r+1,r+2,r+1,r+3,r+2),r+=4,a.push(s,p+u-1,v,s+h,p+u-1,v,s,p+u,v,s+h,p+u,v),c.push(r,r+1,r+2,r+1,r+3,r+2),r+=4,a.push(s,p,v,s+1,p,v,s,p+u,v,s+1,p+u,v),c.push(r,r+1,r+2,r+1,r+3,r+2),r+=4,a.push(s+h-1,p,v,s+h,p,v,s+h-1,p+u,v,s+h,p+u,v),c.push(r,r+1,r+2,r+1,r+3,r+2),r+=4}return{vertexData:new Int16Array(a),indexData:new Uint32Array(c)}},n=()=>[1,.5,0,1,1,0,0,1,0,1,.5,1,0,.5,0,1],o=()=>[.05,.01,.15,.2];export{t as showCollisionBoxes};
