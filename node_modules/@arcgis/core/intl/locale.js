/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
import{makeHandle as n}from"../core/handleUtils.js";let o,e;const t=globalThis.esriConfig?.locale??globalThis.dojoConfig?.locale;function l(){return t??globalThis.navigator?.language??"en"}function c(){return void 0===e&&(e=l()),e}function i(n){o=n||void 0,d()}function r(n=c()){const o=/^([a-zA-Z]{2,3})(?:[_\-]\w+)*$/.exec(n);return o?.[1].toLowerCase()}const a={he:!0,ar:!0};function s(n=c()){const o=r(n);return void 0!==o&&(a[o]||!1)}const u=[];function f(o){return u.push(o),n((()=>u.splice(u.indexOf(o),1)))}const g=[];function h(o){return g.push(o),n((()=>u.splice(g.indexOf(o),1)))}function d(){const n=o??l();e!==n&&(e=n,[...g].forEach((o=>{o.call(null,n)})),[...u].forEach((o=>{o.call(null,n)})))}globalThis.addEventListener?.("languagechange",d);export{h as beforeLocaleChange,l as getDefaultLocale,r as getLanguage,c as getLocale,f as onLocaleChange,s as prefersRTL,i as setLocale};
