/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
import t from"../../request.js";import{associationTypeKebabDict as e}from"../../networks/support/typeUtils.js";import{parseUrl as o,encode as r,asValidOptions as s}from"../utils.js";import n from"./support/QueryAssociationsResult.js";function i(t){const{returnDeletes:o,elements:r,gdbVersion:s,moment:n}=t.toJSON();return{returnDeletes:o,elements:JSON.stringify(r.map((t=>({globalId:t.globalId,networkSourceId:t.networkSourceId,terminalId:t.terminalId})))),types:JSON.stringify(t.types.map((t=>e.toJSON(t)))),gdbVersion:s,moment:n}}async function m(e,m,p){const u=o(e),a={...i(m),f:"json"},l=r({...u.query,...a}),d=s(l,{...p,method:"post"}),f=`${u.path}/associations/query`,{data:c}=await t(f,d);return n.fromJSON(c)}export{m as queryAssociations};
