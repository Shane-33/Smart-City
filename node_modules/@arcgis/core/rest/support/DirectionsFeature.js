/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
import{_ as r}from"../../chunks/tslib.es6.js";import"../../geometry.js";import e from"../../Graphic.js";import{property as t}from"../../core/accessorSupport/decorators/property.js";import"../../core/accessorSupport/ensureType.js";import"../../core/arrayUtils.js";import"../../core/has.js";import{reader as s}from"../../core/accessorSupport/decorators/reader.js";import{subclass as o}from"../../core/accessorSupport/decorators/subclass.js";import p from"./DirectionsEvent.js";import n from"./DirectionsString.js";import c from"../../geometry/Polyline.js";function i(r){if(null==r||""===r)return null;let e=0,t=0,s=0,o=0;const p=[];let n,c,i,a,m,l,u,f,y=0,d=0,h=0;if(m=r.match(/((\+|\-)[^\+\-\|]+|\|)/g),m||(m=[]),0===parseInt(m[y],32)){y=2;const r=parseInt(m[y],32);y++,l=parseInt(m[y],32),y++,1&r&&(d=m.indexOf("|")+1,u=parseInt(m[d],32),d++),2&r&&(h=m.indexOf("|",d)+1,f=parseInt(m[h],32),h++)}else l=parseInt(m[y],32),y++;for(;y<m.length&&"|"!==m[y];){n=parseInt(m[y],32)+e,y++,e=n,c=parseInt(m[y],32)+t,y++,t=c;const r=[n/l,c/l];d&&(a=parseInt(m[d],32)+s,d++,s=a,r.push(a/u)),h&&(i=parseInt(m[h],32)+o,h++,o=i,r.push(i/f)),p.push(r)}return{paths:[p],hasZ:d>0,hasM:h>0}}let a=class extends e{constructor(r){super(r),this.events=null,this.strings=null}readGeometry(r,e){const t=i(e.compressedGeometry);return null!=t?c.fromJSON(t):null}};r([t({type:[p]})],a.prototype,"events",void 0),r([s("geometry",["compressedGeometry"])],a.prototype,"readGeometry",null),r([t({type:[n]})],a.prototype,"strings",void 0),a=r([o("esri.rest.support.DirectionsFeature")],a);const m=a;export{m as default};
